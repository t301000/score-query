{"version":3,"sources":["editClassController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editClassController.min.js","sourcesContent":["angular.module('myapp')\n.controller('EditClassController', ['$rootScope', '$state', '$stateParams', 'Restangular',\nfunction($rootScope, $state, $stateParams, Restangular)\n{\n    var vm = this;\n\n    //vm.classObj = $scope.classList[$stateParams.id];\n    Restangular.one('classrooms', $stateParams.id).get().then(\n        function(classData){\n            vm.classObj = classData;\n            vm.classObj.school_year_in = parseInt(classData.school_year_in);\n        }\n    );\n\n    //更新班級資料\n    vm.updateClass = function(){\n        vm.classObj.put().then(function(response){\n            $rootScope.$broadcast('class_updated', response.new_data);\n\n            return $state.go('auth.teacher');\n        });\n    };\n\n    //刪除班級\n    vm.confirmDelete = function(){\n        vm.classObj.remove().then(\n            function(response){\n                $rootScope.$broadcast('class_deleted', {id: $stateParams.id});\n            },\n            function(error){\n                console.log(error);\n            }\n        );\n    };\n\n}]);"],"sourceRoot":"/source/"}