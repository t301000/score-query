{"version":3,"sources":["newClassController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newClassController.min.js","sourcesContent":["angular.module('myapp')\n.controller('NewClassController', ['$rootScope', '$state', 'Restangular',\nfunction($rootScope, $state, Restangular)\n{\n    var vm = this;\n\n    //產生入學學年度預設值\n    var d = new Date();\n    vm.classObj = {\n        school_year_in: (d.getMonth() < 7) ? d.getFullYear()-1912 : d.getFullYear()-1911\n    };\n\n    vm.createClass = function(){\n        Restangular.all('classrooms').post(vm.classObj).then(function(response){\n            if(response.messages[0].type === 'success') {\n                $rootScope.$broadcast('new_class_created', response.new_class);\n            }\n            return $state.go('auth.teacher');\n        });\n\n    };\n}]);"],"sourceRoot":"/source/"}