{"version":3,"sources":["adminSettingsController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"adminSettingsController.min.js","sourcesContent":["angular.module('myapp')\n.controller('AdminSettingsController',['$rootScope', 'Restangular', 'lodash',\nfunction($rootScope, Restangular, lodash){\n    var vm = this;\n    var base = Restangular.all('schools');\n\n    vm.schoolList = base.getList().$object;\n\n    vm.addSchoolData = function(data){\n        base.post(data).then(\n            function(response){\n                if(response.messages[0].type==='success'){\n                    // 重新取得清單\n                    //vm.schoolList = base.getList().$object;\n\n                    // 將回傳之新學校資料 restangularize 後 push 進清單陣列中，如此可不必重新取得完整清單\n                    vm.schoolList.push( Restangular.restangularizeElement(null, response.newSchool, base.route) );\n                    //console.log(vm.schoolList);\n                    vm.new_school = {};\n                }\n            }\n        );\n    };\n\n    vm.deleteSchool = function(item){\n        item.remove().then(function(response){\n            if(response.messages[0].type==='success'){\n                vm.schoolList.splice(vm.schoolList.indexOf(item),　1);\n            }\n        });\n    }\n\n}]);"],"sourceRoot":"/source/"}